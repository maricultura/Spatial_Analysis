---
title: "Distance to Shore"
author: "Sandra Fogg"
date: "11/18/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r}
# Load packages
library(rnaturalearth)
library(beepr)
```

```{r}
# Import Brazil Data from the "rnaturalearth" Package
bound_BRA <- ne_countries(scale = 110, country = "Brazil", returnclass = "sf")%>% 
  sf::st_crop(eez_BRA)

# Plot Boundaries
plot(bound_BRA)

# Set the Extent to Brazil EEZ
extent <-extent(eez_BRA)

# Set the Cell Size Resolution to Bio-Oracle
res = res(min_sst_BRA)

# Create an Empty Raster for Distance to Shore Mask
blank_raster <- raster( extent, resolution = res)

# Rasterize the Coastline
rasterized_coast <- rasterize(bound_BRA, blank_raster, 1)

# Plot Rasterized Coast
plot(rasterized_coast)

# Calculate the Distance to the Nearest Non-NA Pixel
distance_nonNA <- distance(rasterized_coast)
beep()

# Export the Raster as .tif
writeRaster(x = distance_nonNA, filename = paste0(path,"/dist_shore.tif"), overwrite = F)
plot(d)
# Make land NAs